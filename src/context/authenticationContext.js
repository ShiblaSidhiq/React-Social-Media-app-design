import { createContext, useEffect,useState } from "react";


export const AuthContext=createContext();

export const AuthContextProvider=({children})=>{
    const [currentUser,setcurrentUser]=useState(
        JSON.parse(localStorage.getItem("user")) || null
    );

    const login = ()=>{
        setcurrentUser({id:1,name:"Eugene Flynnrider",profilePic:"data:image/jpeg;base64,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 "
    });

    };
    
    useEffect(()=>{
        localStorage.setItem("user",JSON.stringify(currentUser))
    },[currentUser])

    return(
    <AuthContext.Provider value={{currentUser,login}}>{children}</AuthContext.Provider>
    )
}